#!/bin/bash

# Define the file you want to check
SCRIPT_FILE="$1"

# Check if the file exists
if [[ ! -f "$SCRIPT_FILE" ]]; then
    echo "Error: File '$SCRIPT_FILE' not found!"
    exit 1
fi

# Check for background process handling with 'jobs'
if grep -q "jobs" "$SCRIPT_FILE"; then
    echo "✅ Found 'jobs' command for background process management."
else
    echo "❌ 'jobs' command not found. Background process management might be missing."
fi

# Check for background process termination with 'kill'
if grep -q "kill" "$SCRIPT_FILE"; then
    echo "✅ Found 'kill' command for process termination."
else
    echo "❌ 'kill' command not found. Proper background process termination might be missing."
fi

# Check if 'wait' is used to manage background jobs
if grep -q "wait" "$SCRIPT_FILE"; then
    echo "✅ Found 'wait' command to ensure background jobs finish."
else
    echo "❌ 'wait' command not found. Background process synchronization might be missing."
fi

# If everything checks out
echo "Check completed for file: $SCRIPT_FILE"
